# Travail Pratique : Analyse de Logs Système

## Objectif
L'objectif de ce travail pratique est de familiariser les participants avec l'analyse de logs système afin d'identifier des comportements suspects et de mieux comprendre le fonctionnement des systèmes d'exploitation.

## Pré-requis
- Installation de Python 3.x
- Accès à un terminal de commande
- Des fichiers de logs simulés (fournis dans le dépôt)

## Gestion des logs
Les logs système contiennent des informations critiques pour la sécurité. Ils peuvent inclure des événements tels que des tentatives de connexion, des erreurs système, et des modifications de fichiers. 

### Types de logs à analyser
1. **Logs d'authentification** : Contiennent les connexions réussies et échouées.
2. **Logs système** : Enregistre les événements système importants.
3. **Logs d'application** : Détails sur le fonctionnement des applications et de leurs performances.

## Exercice
### Étape 1 : Télécharger les logs

Téléchargez les fichiers de logs fournis dans le dépôt GitHub ou créez vos propres fichiers de logs à l'aide des commandes suivantes :

```bash
# Exemple de création de logs
sudo journalctl -b > logs_systeme.txt
```

### Étape 2 : Analyser les logs avec Python

1. **Lire les logs** : Créez un script Python qui lit un fichier de log et affiche son contenu.

```python
# script_lire_logs.py
import sys

if len(sys.argv) != 2:
    print("Usage: python script_lire_logs.py <fichier_logs>")
    sys.exit(1)

fichier_logs = sys.argv[1]

try:
    with open(fichier_logs, 'r') as f:
        contenu = f.read()
        print(contenu)
except FileNotFoundError:
    print(f"Le fichier {fichier_logs} n'a pas été trouvé.")
```

2. **Analyser les tentatives de connexion** : Mettez à jour le script pour compter le nombre de tentatives de connexion réussies et échouées.

```python
# script_analyse_connexion.py
import sys

if len(sys.argv) != 2:
    print("Usage: python script_analyse_connexion.py <fichier_logs>")
    sys.exit(1)

fichier_logs = sys.argv[1]

success_count = 0
failure_count = 0

with open(fichier_logs, 'r') as f:
    for ligne in f:
        if 'connexion réussie' in ligne:
            success_count += 1
        elif 'connexion échouée' in ligne:
            failure_count += 1

print(f"Tentatives de connexion réussies : {success_count}")
print(f"Tentatives de connexion échouées : {failure_count}")
```

### Étape 3 : Interpréter les résultats

Après avoir exécuté votre script, discutez des résultats obtenus. Y a-t-il des modèles ou des anomalies qui se dégagent des données? Quels pourraient être les impacts de ces anomalies sur la sécurité du système? 

## Conclusion
Ce travail pratique aide à comprendre l'importance de l'analyse des logs dans la cybersécurité. Par une analyse rigoureuse, les professionnels peuvent détecter des incidents de sécurité potentiels avant qu'ils ne deviennent des problèmes majeurs.

---

## Corrigé

1. **Téléchargement des logs** : Les participants doivent s'assurer qu'ils ont accès à des logs pertinents.
2. **Lecteur de logs** : Le script de lecture devrait simplement afficher le contenu des logs sans erreur.
3. **Analyse des connexions** : Les participants devraient voir des chiffres qui montrent le nombre de connexions réussies et échouées.
4. **Discussion** : Attendez-vous à des discussions sur l'importance de surveiller les logs et comment cela peut aider à prévenir des intrusions.